!function(a,b){if("function"==typeof define&&define.amd)b(define);else{var c={};b(function(a,b,d){for(var e=a.slice(0,a.lastIndexOf("/")+1),f=0;f<b.length;f++){var g=b[f];"."==g[0]&&(g="./"+e+g.slice(2));var h=c[g];if(!h)throw new Error(a+": undefined module - "+g);b[f]=h}c["./"+a]=d.apply(this,b)}),a.coop=c["./coop"]}}(this,function(a){a("lib/coop",[],function(){function a(a){return a instanceof Array?a:[a]}function b(a){for(var b=[];a.length;){for(var c=null,d=0;d<a.length;d++){var e=a[d][0];if(!a.some(function(a){return a.indexOf(e)>0})){c=e;break}}if(!c)throw new Error("No linearization possible for "+a.join(","));b.push(c),a=a.map(function(a){return a.filter(function(a){return a!==c})}),a=a.filter(function(a){return a.length})}return b}function c(){}var d={};return d.Type=function(){},c.prototype.initialize=function(){},c.__mro__=[c],c.subclasses=[],c.__dict__=c.prototype,c.toString=function(){return"<object>"},d.Class=function(e,f,g){function h(){this.initialize&&this.initialize.apply(this,arguments)}var i="string"==typeof e&&e,j=i?g?a(f):[]:f?a(e):[];g=g||f||e,0==j.length&&j.push(c),h.prototype={},h.__dict__={},h.__name__=i||"<class>",h.prototype.constructor=h,h.subclasses=[],h.toString=function(){return this.__name__};var k=j.map(function(a){return a.__mro__});j.length&&k.push(j),h.__mro__=[h].concat(b(k));var l=h.prototype.supercall=function(a,b,c){return a._super(this,b).apply(this,c||[])},m=h.prototype["super"]=h.prototype._super=function(){var a=m.caller,b=a.__class__;if(!b)throw new Error("super must be called from within method.\nIn a callback, use this.supercall(Class, method[, args])");return l.call(this,b,a.__name__,arguments)},n=h.prototype.super_co=function(a,b){var c=n.caller;return n.__class__=c.__class__,n.__name__=c.__name__,this["super"].apply(this,Array.prototype.slice.call(a,b))};return h["super"]=h._super=function(a,b){for(var c=h,d=a.constructor.__mro__,e=d.indexOf(c)+1;e<d.length;e++){var f=d[e];if(b in f.__dict__)return f.__dict__[b]}throw new Error("Property "+b+" has no definition in superclasses. MRO: "+d)},h.issuperclass=function(a){var b=a.__mro__;return b&&b.indexOf(this)>=0},h.isinstance=function(a){return h.issuperclass(a.constructor)},h.__props__={},h.implement=function(a,b){if(!b)for(var c in a){var d=a[c];"function"==typeof d&&(d.__class__=h,d.__name__=c),h.__dict__[c]=d}b=b||h;for(var c in a){var d=a[c],e=h.__props__.hasOwnProperty(c)&&h.__props__[c];(!e||h.__mro__.indexOf(b)<=h.__mro__.indexOf(e))&&(h.prototype[c]=d,h.__props__[c]=b)}h.subclasses.forEach(function(c){c.implement(a,b)})},h.implement(g),j.forEach(function(a){a.subclasses.push(h);for(var b in a.__props__){var c={};c[b]=a.prototype[b],h.implement(c,a.__props__[b])}}),h.derived=function(a,b){return new d.Class(b?a:h,b?h:a,b)},h},d.Top=c,d.Options=new d.Class({initialize:function(a){this.options={};for(var b=this.constructor.__mro__.length-1;b>=0;b--){var c=this.constructor.__mro__[b].prototype.options;if(c)for(var d in c)this.options[d]=c[d]}if(a)for(var d in a)this.options[d]=a[d];this._super.apply(this,Array.prototype.slice.call(arguments,1))}}),d.pop=function(a,b){return Array.prototype.slice.call(a,void 0===b?1:b)},d.push=function(a){return Array.prototype.concat.call(d.pop(arguments),a)},d}),a("coop",["./lib/coop"],function(a){return a})});