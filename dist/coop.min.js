!function(a,b){if("function"==typeof define&&define.amd)b(define);else{var c={};b(function(a,b,d){for(var e=a.slice(0,a.lastIndexOf("/")+1),f=0;f<b.length;f++){var g=b[f];"."==g[0]&&(g="./"+e+g.slice(2));var h=c[g];if(!h)throw new Error(a+": undefined module - "+g);b[f]=h}c["./"+a]=d.apply(this,b)}),a.coop=c["./coop"]}}(this,function(a){a("lib/coop",[],function(){function a(a){return a instanceof Array?a:[a]}function b(a){for(var b=[];a.length;){for(var c=null,d=0;d<a.length;d++){var e=a[d][0];if(!a.some(function(a){return a.indexOf(e)>0})){c=e;break}}if(!c)throw new Error("No linearization possible for "+a.join(","));b.push(c),a=a.map(function(a){return a.filter(function(a){return a!==c})}),a=a.filter(function(a){return a.length})}return b}function c(){}var d={};return d.Type=function(){},c.prototype.initialize=function(){},c.__mro__=[c],c.subclasses=[],c.__dict__=c.prototype,d.Class=function(e,f){function g(){this.initialize&&this.initialize.apply(this,arguments)}var h=f?a(e):[];f=f||e,0==h.length&&h.push(c),g.prototype={},g.__dict__={},g.prototype.constructor=g,g.subclasses=[];var i=h.map(function(a){return a.__mro__});h.length&&i.push(h),g.__mro__=[g].concat(b(i));var j=g.prototype.super=function(){var a=j.caller,b=a.__class__;if(!b)throw new Error("super must be called from within method");return b.super(this,a.__name__).apply(this,arguments)},k=g.prototype.super_co=function(a,b){var c=k.caller;return k.__class__=c.__class__,k.__name__=c.__name__,this.super.apply(this,Array.prototype.slice.call(a,b))};return g.super=function(a,b){for(var c=g,d=a.constructor.__mro__,e=d.indexOf(c)+1;e<d.length;e++){var f=d[e];if(b in f.prototype)return f.prototype[b]}throw new Error("Property "+b+" has no definition in superclasses. MRO: "+d)},g.issuperclass=function(a){var b=a.__mro__;return b&&b.indexOf(this)>=0},g.isinstance=function(a){return g.issuperclass(a.constructor)},g.__props__={},g.implement=function(a,b){if(!b)for(var c in a){var d=a[c];"function"==typeof d&&(d.__class__=g,d.__name__=c)}b=b||g;for(var c in a){var d=a[c],e=g.__props__.hasOwnProperty(c)&&g.__props__[c];(!e||g.__mro__.indexOf(b)<=g.__mro__.indexOf(e))&&(g.prototype[c]=d,g.__props__[c]=b)}g.subclasses.forEach(function(c){c.implement(a,b)})},g.implement(f),h.forEach(function(a){a.subclasses.push(g);for(var b in a.__props__){var c={};c[b]=a.prototype[b],g.implement(c,a.__props__[b])}}),g.derived=function(a){return new d.Class(g,a)},g},d.Top=c,d.Options=new d.Class({initialize:function(a){this.options={};for(var b=this.constructor.__mro__.length-1;b>=0;b--){var c=this.constructor.__mro__[b].prototype.options;if(c)for(var d in c)this.options[d]=c[d]}if(a)for(var d in a)this.options[d]=a[d];this.super.apply(this,Array.prototype.slice.call(arguments,1))}}),d.pop=function(a,b){return Array.prototype.slice.call(a,void 0===b?1:b)},d.push=function(a){return Array.prototype.concat.call(d.pop(arguments),a)},d}),a("coop",["./lib/coop"],function(a){return a})});